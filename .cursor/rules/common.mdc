---
description: How to use global config across the project.
globs:
alwaysApply: true
---
## Using global configuration

Global config is used to store hyperparameters that should be applied across the entire codebase. The configuration system uses Rust's **config** crate with **serde** for automatic validation and type checking.

**Configuration Files:**
- `src-tauri/global_config.yaml` - Base configuration values
- `src-tauri/src/global_config.rs` - Rust structs defining structure and validation
- `.env` - Environment variables and secrets (git-ignored)

Whenever there is a hyperparameter that should be applied across the entire codebase, add those hyperparameters in `src-tauri/global_config.yaml`. Whenever a user seems to have defined a hyperparameter in the wrong scope, or using a constant value in their code point them towards `src-tauri/global_config.yaml` and ask them to add it there instead.

Any private or secret keys should be stored in the .env file in the root of the project, which is automatically loaded into the config.

To add new configuration fields, define the corresponding struct in `src-tauri/src/global_config.rs` first, then add the field to the `AppConfig` struct.

Then, these common values can be accessed in Rust using:

```rust
use crate::global_config::get_config;

let config = get_config();
println!("{}", config.model_name);
```

And in React using the `useConfig` hook:

```typescript
import { useConfig } from "./hooks/useConfig";

const { config } = useConfig();
if (config) {
  console.log(config.model_name);
}
```
