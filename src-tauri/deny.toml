# cargo-deny configuration

[advisories]
ignore = [
    # UNMAINTAINED TRANSITIVES - Tauri v2 Dependencies (Linux/GTK3 stack)
    # These are foundational to the current Tauri/Wry/Tao ecosystem on Linux.
    # They can only be addressed by upstream framework migrations (e.g., to GTK4).
    "RUSTSEC-2024-0411", # atk is unmaintained
    "RUSTSEC-2024-0412", # pango is unmaintained
    "RUSTSEC-2024-0413", # gtk is unmaintained
    "RUSTSEC-2024-0414", # gdk-pixbuf is unmaintained
    "RUSTSEC-2024-0415", # gio is unmaintained
    "RUSTSEC-2024-0416", # gdk is unmaintained
    "RUSTSEC-2024-0417", # soup3 is unmaintained
    "RUSTSEC-2024-0418", # webkit2gtk is unmaintained
    "RUSTSEC-2024-0419", # gdkx11 is unmaintained
    "RUSTSEC-2024-0420", # javascriptcore-rs is unmaintained
    "RUSTSEC-2024-0370", # proc-macro-error is unmaintained (used by GTK/Glib bindings)

    # UNMAINTAINED TRANSITIVES - String/URL Utilities
    # Pulled in by urlpattern, which is used for Tauri routing.
    "RUSTSEC-2025-0100", # unic-ucd-ident is unmaintained
    "RUSTSEC-2025-0098", # unic-ucd-version is unmaintained
    "RUSTSEC-2025-0080", # unic-common is unmaintained
    "RUSTSEC-2025-0075", # unic-char-range is unmaintained
    "RUSTSEC-2025-0081", # unic-* crates are unmaintained

# UNMAINTAINED TRANSITIVES - CSS/Selectors
# Pulled in by kuchikiki -> selectors -> fxhash.
    "RUSTSEC-2025-0057", # fxhash is unmaintained
    "RUSTSEC-2024-0436", # paste is unmaintained and only used by rav1e -> ravif -> image
]

[licenses]
allow = [
    "MIT",
    "Apache-2.0",
    "BSD-3-Clause",
    "BSD-2-Clause",
    "Zlib",
    "MPL-2.0",
    "ISC",
    "Unicode-3.0",
    "0BSD",
    "Apache-2.0 WITH LLVM-exception",
    "NCSA",
    "CDLA-Permissive-2.0",
    "OpenSSL",
]

[bans]
multiple-versions = "warn"

# These crates currently appear multiple times because they're pulled in via
# different branches of the Tauri/Wry dependency graph (GTK vs. http clients).
# The duplicates are tracked upstream and cannot be consolidated until the
# relevant crates release compatible versions, so skip them here to keep
# `cargo deny check` clean while the warnings remain known.
skip = [
    "base64",
    "bitflags",
    "convert_case",
    "core-foundation",
    "foreign-types",
    "foreign-types-shared",
    "getrandom",
    "hashbrown",
    "heck",
    "indexmap",
    "phf",
    "phf_codegen",
    "phf_generator",
    "phf_macros",
    "phf_shared",
    "png",
    "proc-macro-crate",
    "rand",
    "rand_chacha",
    "rand_core",
    "serde_spanned",
    "siphasher",
    "syn",
    "thiserror",
    "thiserror-impl",
    "toml",
    "toml_datetime",
    "toml_edit",
    "wasi",
    "windows-core",
    "windows-link",
    "windows-result",
    "windows-strings",
    "windows-sys",
    "windows-targets",
    "windows_aarch64_gnullvm",
    "windows_aarch64_msvc",
    "windows_i686_gnu",
    "windows_i686_gnullvm",
    "windows_i686_msvc",
    "windows_x86_64_gnu",
    "windows_x86_64_gnullvm",
    "windows_x86_64_msvc",
    "winnow",
    "zune-core",
    "zune-jpeg",
]

[sources]
unknown-registry = "deny"
unknown-git = "deny"
